<h1>Fach: {{SubjectShowController.subject.name}}</h1>

<form ng-submit="SubjectShowController.update()">
<div class="panel panel-default subjectDetailPanel">
        <div class="panel-heading">
            <h3 class="panel-title">
                Details
                <div class="pull-right">
                    <button class="btn btn-xs"
                            ng-click="SubjectShowController.edit()"
                            ng-if="SubjectShowController.isEditMode == false">
                        <span class="glyphicon glyphicon-pencil"></span>
                    </button>
                    <button ng-if="SubjectShowController.isEditMode == true"
                            class="btn btn-xs"
                            type="submit">
                        <span class="glyphicon glyphicon-ok"></span>
                    </button>
                </div>
            </h3>
        </div>
        <div class="panel-body">
            <div class="form-group">
                <label>Fachname</label>
                <input ng-model="SubjectShowController.subject.name"
                       ng-if="SubjectShowController.isEditMode == true"
                       placeholder="Name"
                       class="form-control" />
                <p ng-if="SubjectShowController.isEditMode == false"
                   class="form-control-static">{{SubjectShowController.subject.name}}</p>
            </div>
            <div class="form-group">
                <label>Beschreibung</label>
                <textarea ng-model="SubjectShowController.subject.description"
                          ng-if="SubjectShowController.isEditMode == true"
                          placeholder="Beschreibung"
                          class="form-control"></textarea>
                <p ng-if="SubjectShowController.isEditMode == false"
                   class="form-control-static">{{SubjectShowController.subject.description}}</p>
            </div>
        </div>
</div>
</form>


<div class="panel panel-default projectListPanel">
    <div class="panel-heading">
        <h3 class="panel-title">
            Projekte
        </h3>
    </div>
    <div class="panel-body">
        <ul ng-if="0 < SubjectShowController.projects.length" class="projects list-group">
            <li ng-repeat="project in SubjectShowController.projects" class="list-group-item clearfix">
                <a href="/#/subject/{{ SubjectShowController.subject._id }}/project/{{project._id}}">
                    <span class="badge">{{ project.participants.length }}</span> {{ project.name}}
                </a>
                <span class="pull-right">
                    <button ng-click="SubjectShowController.deleteProject(project)" class="btn btn-xs">
                        <span class="glyphicon glyphicon-trash"></span>
                    </button>
                </span>
            </li>
        </ul>
        <div ng-if="SubjectShowController.projects.length === 0" class="alert alert-info" role="alert">Keine Projekte angelegt</div>

        <div class="panel panel-default addProjectPanel">
            <div class="panel-heading" id="addProjectPanelHeading">
                <h3 class="panel-title">
                    <a role="button"
                       data-toggle="collapse"
                       data-parent=".addProjectPanel"
                       data-target="#addProjectPanelBody"
                       aria-expanded="true"
                       aria-controls="addProjectPanelBody">Projekt Hinzufügen</a>
                </h3>
            </div>
            <div class="panel-collapse collapse" role="tabpanel" aria-labelledby="addProjectPanelHeading" id="addProjectPanelBody">
                <div class="panel-body">

                    <form ng-submit="SubjectShowController.createProject(newProject)">
                        <div class="form-group">
                            <label>Projektname</label>
                            <input ng-model="newProject.name" placeholder="Projektname" class="form-control">
                        </div>
                        <div class="form-group">
                            <label>Beschreibung</label>
                        <textarea ng-model="newProject.description" placeholder="Beschreibung"
                                  class="form-control"></textarea>
                        </div>
                        <button class="btn btn-primary" type="submit">
                            <span class="glyphicon glyphicon-plus"></span> Hinzufügen
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<a href="#/subjects">Zurück zur Fächerübersicht</a>